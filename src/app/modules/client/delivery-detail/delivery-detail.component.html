<div class="container">
	<table>
		<tr>
			<td>
				<img  src="/assets/img/quotation.png" class="img-responsive">
			</td>
			<td width="90%">
				<h1>Listado de Solicitudes y Ofertas</h1>
			</td>
		</tr>
	</table>
	<p align="justify">
	Estimado Usuario(a): En la parte inferior encontrara el listado de solicitudes creadas con su correspondientes ofertas en cada tarjeta. Al momento de tener ofertas podras tomar alguna para su posterior cotización definitiva.
	</p>
</div> 

<div class="container" id="global2">
<div class="col-12"*ngFor="let delivery of deliveries">
  <br>
  <div class="row" >
 
    <div class="card">
      <div class="card-header">
        <b>Despacho</b> {{delivery.id}} - <b>Creacion:</b> {{delivery.createdAt}} - <b>Estado:</b> {{delivery.state}}
      </div>
      <div class="card-body">
        <blockquote class="blockquote mb-0">

          <div class="col-auto">
            <label><b>Origen:</b> {{delivery.sourceName}}</label>
          </div>

          <div class="col-auto">
            <label><b>Destino:</b> {{delivery.destinationName}}</label>
          </div>

          <div class="col-auto">
            <label><b>Peso (kg):</b> {{delivery.weight}}</label>
          </div>

          <div class="col-auto">
            <label><b>Volumen (cm3):</b> {{delivery.volume}}</label>
          </div>

          <div class="col-auto">
            <label><b>Descripción:</b> {{delivery.description}}</label>
          </div>

          <footer class="blockquote-footer">
            <div *ngIf="!areDeliveriesEmpty(delivery.offers)">

              <div class="alert alert-success" role="alert">
                Ya tienes ofertas en tu orden de despacho, selecciona una!!
              </div>
              <div *ngFor="let offer of delivery.offers">
                <div class="col-auto">
                  <label>Proveedor: {{offer.supplierName}} - Precio {{offer.price}}</label>
                  <button type="button" class="btn btn-primary btn-sm btn-success" (click)="sendOffer(delivery.id, offer.id)">Tomar oferta</button>
                </div>
                <br>
              </div>

            </div>

            <div *ngIf="areDeliveriesEmpty(delivery.offers)">
              <div class="col-auto">
                <div class="alert alert-danger" role="alert">
                  Esta orden de despacho no tiene ofertas asignadas!
                </div>
              </div>
              <br>
            </div>

          </footer>
        </blockquote>
      </div>
    </div>
    <br>
  </div>
</div>
